# --- Настройки логирования (для отладки WebClient) ---
logging.level.root=INFO
logging.level.org.springframework.web.reactive.function.client=DEBUG
logging.level.reactor.netty=DEBUG
logging.level.okhttp3=DEBUG
logging.level.org.springframework.web.client=DEBUG
# Для RestTemplate, если используется

# Остальные настройки логирования, как были:
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN
logging.level.org.hibernate.orm.deprecation=ERROR
logging.level.org.hibernate.orm.connections.pooling=ERROR
logging.level.org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator=ERROR
logging.level.org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer=ERROR
logging.level.org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration=ERROR
logging.level.com.chatalyst.backend.component.DataLoader=WARN
logging.level.jakarta.mail=WARN
logging.level.org.eclipse.angus.mail=WARN

# ... (остальная часть вашего application.properties)

# Название приложения
spring.application.name=chatalyst-backend

# Конфигурация базы данных PostgreSQL
spring.datasource.url=jdbc:postgresql://postgres.railway.internal:5432/auth_db
spring.datasource.username=postgres
spring.datasource.password=NXHhAOfJUOLTAsqtgQdmJpBdJoFlxidP
spring.datasource.driver-class-name=org.postgresql.Driver

# Конфигурация JPA/Hibernate
# create-drop: Удаляет и создает схему БД при каждом запуске (ОЧЕНЬ ОСТОРОЖНО В PROD!)
# Для PRODUCTION рекомендуется 'update' (обновляет схему) или 'none' (не трогает схему)
spring.jpa.hibernate.ddl-auto=update
# Изменено на update, чтобы сохранять данные
# spring.jpa.hibernate.ddl-auto=create-drop # Было ранее, удаляет данные при каждом запуске

# Отображение SQL-запросов в логах (для отладки, отключить в PROD)
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Диалект Hibernate для PostgreSQL (автоматически определяется в Spring Boot 3+, можно удалить)
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Конфигурация JWT
app.jwt.secret=mySecretKey12345678901234567890123456789012345678901234567890
app.jwt.expiration-ms=3600000
# 24 часа в миллисекундах

# Конфигурация сервера
server.port=8080

# Конфигурация Swagger/OpenAPI
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# Конфигурация CORS (Cross-Origin Resource Sharing)
# Разрешенные источники для запросов к вашему бэкенду
# Для PRODUCTION замените localhost на домен вашего фронтенда
app.cors.allowed-origins=http://localhost:5173,http://localhost:8080

# --- Gmail SMTP Configuration ---
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.protocol=smtp
spring.mail.username=VerifPharmacy@gmail.com
spring.mail.password=fckcylvuprnhlxjy
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.starttls.required=true
spring.mail.properties.mail.debug=false

# Управление логами JWT (если хотите убрать ошибки валидации подписи, но это не рекомендуется для продакшена)
# logging.level.com.chatalyst.backend.security.jwt.JwtUtils=ERROR

# --- Telegram Bot & OpenAI Configuration ---
telegram.bot.token=7949155009:AAGjiuWMH71FDS3uo8ZYzi7hdkUk9m_x42Y
# Ваш токен Telegram бота
openai.api.key=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
# Ваш API ключ OpenAI
openai.model=gpt-3.5-turbo
# Модель OpenAI для использования

telegram.webhook.base-url=https://22bc2ed15662.ngrok-free.app
# Базовый URL для Telegram вебхуков (ваш ngrok URL или домен)
ngrok.url=https://22bc2ed15662.ngrok-free.app

# PS.kz Object Storage Configuration
ps.access-key-id=PBD4E4DMA5MPZCBKN0H8
ps.secret-access-key=F0VlvE4DXGd42NZV7NoxsrI8bGtCyVCC1ilAetvJ
ps.endpoint-url=https://object.pscloud.io
ps.bucket-name=chatalyst-products


